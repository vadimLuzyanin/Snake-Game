(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{12:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(5),c=n.n(a),l=n(6),i=n(1),u=function(t){var e=t.index,n=t.food,a=t.snakeState,c=t.resolution,l=Object(r.useState)("white"),u=Object(i.a)(l,2),f=u[0],s=u[1],h=Object(r.useState)("1px solid black"),b=Object(i.a)(h,2),w=b[0],d=b[1],m=function(t){return e===t.row*c+t.col};return Object(r.useEffect)((function(){s("white"),d("1px solid black"),m(n)&&s("red"),a.forEach((function(t,e){m(t)&&0===e?s("green"):m(t)&&(s("black"),d("1px solid red"))}))}),[n,a]),o.a.createElement("div",{style:{height:"3vh",width:"3vh",outline:w,backgroundColor:f}})},f=function(t){var e=t.tickInterval,n=t.snakeLength,a=t.gameStart,c=t.handleGameStart,l=(t.resolution,t.handleResolutionSet),u=Object(r.useState)(""),f=Object(i.a)(u,2),s=f[0],h=f[1];return o.a.createElement("div",{style:{fontSize:"25px",marginTop:"15px",display:"flex",minWidth:"50vw",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("span",null,"Score: ",Math.floor(1e3*Math.pow(n,2)/e)),o.a.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"space-around",alignItems:"center",minWidth:"25vw"}},!a&&o.a.createElement(r.Fragment,null,o.a.createElement("input",{value:s,onClick:function(t){return t.stopPropagation()},onChange:function(t){return h(t.target.value)},placeholder:"min=5, max=30",style:{fontSize:"20px",height:"100%"}}),o.a.createElement("button",{onClick:function(){return l(s)},style:{fontSize:"25px",height:"100%"}},"Set resoluton"))),!a&&o.a.createElement("button",{onClick:c,style:{fontSize:"25px",height:"100%"}},"Start"))},s=function(){var t=Object(r.useState)(30),e=Object(i.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)({row:Math.floor(Math.random()*n),col:Math.floor(Math.random()*n)}),s=Object(i.a)(c,2),h=s[0],b=s[1],w=Object(r.useState)([{row:Math.floor((n-1)/2),col:Math.floor((n-1)/2)}]),d=Object(i.a)(w,2),m=d[0],j=d[1],p=Object(r.useState)(!1),O=Object(i.a)(p,2),v=O[0],g=O[1],S=Object(r.useRef)();Object(r.useEffect)((function(){window.addEventListener("click",(function(){return S.current.focus()}))}),[]);var E=Object(r.useState)("ltr"),k=Object(i.a)(E,2),y=k[0],x=k[1],M=Object(r.useState)(""),I=Object(i.a)(M,2),C=I[0],A=I[1],z=Object(r.useState)(!1),L=Object(i.a)(z,2),R=L[0],T=L[1],D=Object(r.useState)(0),W=Object(i.a)(D,2),G=W[0],J=W[1],B=Object(r.useState)(1e3),F=Object(i.a)(B,2),K=F[0],P=F[1];Object(r.useEffect)((function(){return clearInterval(window.gameTimer),window.gameTimer=setInterval((function(){J((function(t){return t+1}))}),K),function(){return clearInterval(window.gameTimer)}}),[K]),Object(r.useEffect)((function(){q()}),[G]);var U=function(){var t=Math.floor(Math.random()*n),e=Math.floor(Math.random()*n);b({row:t,col:e})};Object(r.useEffect)((function(){m.some((function(t){var e=t.row,n=t.col;return h.row===e&&h.col===n}))&&U()}),[m,h]);var q=function(){v&&(j((function(t){var e=Object(l.a)(t);return e.unshift(function(){switch(y){case"btt":return{row:t[0].row-1,col:t[0].col};case"ttb":return{row:t[0].row+1,col:t[0].col};case"rtl":return{row:t[0].row,col:t[0].col-1};case"ltr":default:return{row:t[0].row,col:t[0].col+1}}}()),e[0].row!==h.row||e[0].col!==h.col?e.pop():(P((function(t){return.95*t})),U()),e})),A(y))},H=Array(n*n).fill(null).map((function(t,e){return o.a.createElement(u,{key:e,index:e,food:h,snakeState:m,resolution:n})}));Object(r.useEffect)((function(){var t=m[0];m.forEach((function(e,n){0!==n&&e.row===t.row&&e.col===t.col&&T(!0)})),(t.row>n-1||t.col>n-1||t.row<0||t.col<0)&&T(!0)}),[m,n]),Object(r.useEffect)((function(){R&&(j([{row:Math.floor((n-1)/2),col:Math.floor((n-1)/2)}]),U(),x("ltr"),T(!1),P(1e3),g(!1))}),[R,n]);return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"99vh"}},o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",width:3*n+"vh",padding:"10px"},tabIndex:"0",ref:S,onKeyDown:function(t){switch(t.key){case"ArrowUp":"ltr"!==C&&"rtl"!==C||x("btt");break;case"ArrowDown":"ltr"!==C&&"rtl"!==C||x("ttb");break;case"ArrowLeft":"ttb"!==C&&"btt"!==C||x("rtl");break;case"ArrowRight":default:"ttb"!==C&&"btt"!==C||x("ltr")}}},H),o.a.createElement(f,{tickInterval:K,snakeLength:m.length,gameStart:v,handleGameStart:function(){g((function(t){return!t})),S.current.focus()},resolution:n,handleResolutionSet:function(t){"number"===typeof+t&&+t<=30&&+t>=5&&(a(+t),j([{row:Math.floor((n-1)/2),col:Math.floor((n-1)/2)}]),U(),x("ltr"),T(!1),P(1e3),g(!1))}}))};c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s,null)),document.getElementById("root"))},7:function(t,e,n){t.exports=n(12)}},[[7,1,2]]]);
//# sourceMappingURL=main.7d60e009.chunk.js.map